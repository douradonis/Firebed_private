{% extends 'base.html' %}

{% block title %}Î£ÏÎ½Î´ÎµÏƒÎ·{% endblock %}

{% block content %}
  <div class="content-wrap">
    <h1 class="text-xl font-semibold mb-4">Î£ÏÎ½Î´ÎµÏƒÎ·</h1>

    <form method="post" action="{{ url_for('auth.login') }}" class="grid gap-3 max-w-md">
      <label class="block">ÎŒÎ½Î¿Î¼Î± Ï‡ÏÎ®ÏƒÏ„Î·
        <input type="text" name="username" class="mt-1 px-3 py-2 border rounded w-full" />
      </label>
      <label class="block">ÎšÏ‰Î´Î¹ÎºÏŒÏ‚
        <div class="mt-1 relative">
          <input id="loginPassword" type="password" name="password" class="px-3 py-2 border rounded w-full pr-10" autocomplete="current-password" />
          <button type="button" class="absolute inset-y-0 right-0 px-3 text-gray-500 hover:text-gray-700" data-toggle-password="loginPassword" aria-label="Î•Î½Î±Î»Î»Î±Î³Î® ÎµÎ¼Ï†Î¬Î½Î¹ÏƒÎ·Ï‚ ÎºÏ‰Î´Î¹ÎºÎ¿Ï" aria-pressed="false">
            <span data-eye-show class="block">ğŸ‘</span>
            <span data-eye-hide class="hidden">ğŸ™ˆ</span>
          </button>
        </div>
      </label>
      <div class="flex items-center gap-3">
        <button type="submit" class="px-4 py-2 rounded bg-sky-600 text-white">Î£ÏÎ½Î´ÎµÏƒÎ·</button>
        <a href="{{ url_for('auth.signup') }}" class="text-sm text-sky-600">Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿Ï</a>
      </div>
    </form>
  </div>
{% endblock %}

{% block scripts %}
<script>
(function(){
  document.querySelectorAll('[data-toggle-password]').forEach(function(btn){
    btn.addEventListener('click', function(){
      const targetId = btn.getAttribute('data-toggle-password');
      const input = targetId ? document.getElementById(targetId) : null;
      if(!input) return;
      const showing = input.type === 'text';
      input.type = showing ? 'password' : 'text';
      btn.setAttribute('aria-pressed', showing ? 'false' : 'true');
      btn.querySelectorAll('[data-eye-show]').forEach(function(el){ el.classList.toggle('hidden', !showing); });
      btn.querySelectorAll('[data-eye-hide]').forEach(function(el){ el.classList.toggle('hidden', showing); });
    });
  });
})();
</script>
{% endblock %}
